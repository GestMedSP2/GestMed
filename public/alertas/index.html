<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GestMed | Alertas</title>
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/alertas.css">
    <link rel="shortcut icon" href="../assets/img/logosemtexto.svg" type="image/x-icon">
    <script src="../js/alertas.js" defer></script>
    <script src="../js/validarSessao.js" defer></script>
    <link rel="shortcut icon" href="../assets/img/logosemtexto.svg" type="image/x-icon">
</head>
<body onload="buscarAlertas(); validarSessao()">
    <div class="menu">
        <img src="../assets/img/logosemtexto.svg" alt="logo">
        <nav class="opcoes">
            <ul> 
                <li>
                   <a href="../setores/index.html"> <span class="iconify" data-icon="ci:chart-bar-vertical-01" data-width="30"></span>
                    <h4>Setores</h4>
                  </a>
                </li>
                <li>
                    <a href="../alertas/index.html"><span class="iconify" data-icon="ci:bell-ring" data-width="30"></span>
                    <h4>Alertas</h4>
                  </a>
                </li>
                <li>
                   <a href="../funcionarios/index.html">
                      <span class="iconify" data-icon="ci:user" data-width="30"></span>
                      <h4>Funcionários</h4>
                    </a> 
                </li>
                <li>
                    <a href="https://app.pipefy.com/public/form/oE11CDTa">
                       <span class="iconify" data-icon="bx:support" data-width="30"></span>
                       <h4>Suporte</h4>
                     </a> 
                 </li>
            </ul>
        </nav>
    </div>

    <div class="conteudo">
        <div class="headerDashboard">

            <h2 id="nome_empresa"> Pfizer</h2>
            <details class="perfil">
              <summary>
                <h4>Olá, <span id="nome_usuario">funcionário</span></h4>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 10l5 5m0 0l5-5"/></svg>
                </summary>
                <div id="conteudoPerfil">
                  <a onclick="sair()">
                  <h4>Sair</h4> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" stroke="#ff4040" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12h-9.5m7.5 3l3-3l-3-3m-5-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-1"/></svg>
                  </a>
                </div>
            </details>
      
          </div>

        <div class="areaAlerta">
            <h1>Alertas</h1>
            <div class="conteudoAlerta">
                <div class="topoConteudoAlerta">
                    <div class="quadradoAlerta">
                        <h2>Alertas Críticos</h2>
                        <div class="quadradoNumeroAlerta alertaCritico">
                            <span id="qtdAlertasCriticos">-</span>
                        </div>
                        <div>
                            <button onclick="filtrarPorCritico()" id="btnFiltrarCritico" class="btnFiltrar">Filtrar</button>
                            <button style="display: none;" onclick="cancelarFiltragem()" id="btnCancelarFiltragemCritico" class="btnFiltrar">Cancelar</button>
                        </div>
                    </div>

                    <div class="quadradoAlerta">
                        <h2>Alertas de atenção</h2>
                        <div class="quadradoNumeroAlerta alertaUrgente">
                            <span id="qtdAlertasAtencao">-</span>
                        </div>
                        <div>
                            <button onclick="filtrarPorAtencao()" id="btnFiltragemAtencao" class="btnFiltrar">Filtrar</button>
                            <button style="display: none;" onclick="cancelarFiltragem()" id="btnCancelarFiltragemAtencao" class="btnFiltrar">Cancelar</button>
                        </div>
                        
                    </div>
                </div>

                <div class="areaTabela">
                    <table id="tabelaAlerta">
                        <thead>
                            <tr>
                                <!-- <th id="colunaResolvido">Resolvido</th> -->
                                <th>Setor</th>
                                <th id="colunaPrioridade">Prioridade</th>
                                <th id="colunaDataHora">Data/Hora</th>
                                <th id="colunaDescricao">Descrição</th>
                                <!-- <th></th> -->
                            </tr>
                        </thead>
                        <tbody id="alertasContainer">

                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>
</body>
</html>
